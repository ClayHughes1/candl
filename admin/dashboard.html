<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="West Viginia Huntinton IT Solution Partner – Affordable Platform Resources, Print Media, and Social Media Marketing">
<meta name="keywords" content="West Virginia, Huntington, IT solutions, platform resources, print media, flyers, greeting cards, social media marketing, affordable IT services">
<meta name="author" content="C&L Enterprises">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://www.candlenterprisesusa.com">
<meta property="og:title" content="West Virginia, Huntington, IT Solution Partner – Affordable Platform Resources, Print Media, and Social Media Marketing">
<meta property="og:description" content="West Virginia, Huntington, Empower your business with affordable IT solutions, platform resources, print media services, and effective social media marketing.">
<meta property="og:image" content="https://www.candlenterprisesusa.com/og-image.jpg">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://www.candlenterprisesusa.com">
<meta property="twitter:title" content="West Virginia, Huntington, IT Solution Partner – Affordable Platform Resources, Print Media, and Social Media Marketing">
<meta property="twitter:description" content="West Virginia, Huntington,Empower your business with affordable IT solutions, platform resources, print media services, and effective social media marketing.">
<meta property="twitter:image" content="https://www.candlenterprisesusa.com/twitter-image.jpg">

<title>Your IT Solution Partner</title>
<!-- <link href="css/bootstrap.min.css" rel="stylesheet" media="all"> -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
<link href="../public/css/style.css" rel="stylesheet">
<script src="https://kit.fontawesome.com/e195aeef6e.js" crossorigin="anonymous"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>    
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script> -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" media="all" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
<script type="text/javascript" src="jscript/graph.js"></script>

<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->

<!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script> -->
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script> -->


</head>
<body class="bg-img-body text-white ">
<header class="head-m-10">
	<nav class="navbar navbar-expand-lg bg-img-nav">
		<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
			<div class="row">
				<!-- <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 text-center banner">
					<a href="!#"><img  class="img-fluid" src="../public/images/logo_blk.png"></a>
				</div> -->
				<div class="col-xs-9 col-sm-9 col-md-10 col-lg-10 text-light" style="padding:20px;text-align: left;margin-right: 0;;">
					<h6>C&L Enterprises</h6>
				</div>
                <!-- <div class="col-xs-2 col-sm-3 col-md-2 col-lg-1 text-light" id="repoNavItem" style="padding:20px 20px 0 0;margin-right: 10px;">
					<a href="#">Reporting</a>
				</div>
                <div class="col-xs-2 col-sm-3 col-md-2 col-lg-1 text-light" id="repoNavItem" style="padding: 20px 20px 0  0;margin-right: 10px;">
					<a href="#">Billing</a>
				</div> -->
                <!-- <div class="col-xs-1 col-sm-3 col-md-2 col-lg-1" style="padding: 10px 0 0  0;"">
                    <ul class="navbar-nav">
                        <li class="nav-item dropdown">
                            <a class="nav-link text-white dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Admin Services
                            </a>
                            <div class="dropdown-menu nav-font-lg" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="#">Web Design</a>
                            <a class="dropdown-item" href="#">Mobile Design</a>
                            <a class="dropdown-item" href="#">Platform Design</a>
                            </div>
                        </li>
                    </ul> 
				</div> -->
                <div class="col-xs-2 col-sm-2 col-md-2 col-lg-1 text-light" >
					<a class="btn" href="/logout" role="button" style="font-size:2em;">
                        <i class="fa-regular fa-user"></i>
						<!-- <i class="fa-light fa-user"></i> -->
					</a>
				</div>
			</div>
		</div>

        <!-- <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon">   
                <i class="fas fa-bars" style="color:#fff; font-size:28px;"></i>
            </span>
        </button> -->

        <!-- <div class="collapse navbar-collapse" id="navbarSupportedContent" style="color:white;">
            <ul class="navbar-nav ml-10">
                <li class="nav-item dropdown">
                    <a class="nav-link text-white dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Admin Services
                    </a>
                    <div class="dropdown-menu nav-font-lg" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="#">Web Design</a>
                    <a class="dropdown-item" href="#">Mobile Design</a>
                    <a class="dropdown-item" href="#">Platform Design</a>
                    </div>
                </li>
            </ul> 
        </div> -->
	</nav>
</header>

<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-light" style="padding:20px;">
    <div class="row">
        <div class="cols-xs-8 col-sm-8 col-md-8 col-lg-8">
            <h4>Admin Dashboard</h4>
        </div>
        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
            <div class="" id="" style="color:white;">
                <ul class="navbar-nav ml-10 uladmin" id="uladmin">
                    <li class="nav-item dropdown" id="adminOptions">
                        <a class="nav-link text-white dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Admin Services
                        </a>
                        <div class="dropdown-menu nav-font-lg" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" id="lnkbilling" href="#">Billing</a>
                        <a class="dropdown-item" id="lnkexpense" href="#">Expense</a>
                        <a class="dropdown-item" id="lnksales" href="#">Sales</a>
                        <a class="dropdown-item" id="lnkreporting" href="#">Reporting</a>
                        <a class="dropdown-item" id="lnkusrmain" href="#">User Maintenance</a>
                        </div>
                    </li>
                </ul> 
            </div>
        </div>
    </div>
    <hr style="border-bottom: 3px solid lightblue;" />

</div>

<div class="container-fluid mb-2" id="reporting" style="height: auto;margin:0;display: none;"> 
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 mt-10">
        <div class="row mt-10">
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-2 mt-10">
                <label for="selService" class="col-form-label">Report Frequency</label>
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-3 mt-10">
                <select class="form-control" id="selService" name="servicetype" aria-label="Service type select list" required>
                    <option value="select">Select</option>
                    <option value="daily">Daily</option>
                    <option value="weekly">Weekly</option>
                    <option value="monthly">Monthly</option>
                    <option value="quarterly">Quarterly</option>
                    <option value="annually">Annually</option>
                </select>		
            </div>
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-1 mt-10">
                <label for="selService" class="col-form-label">Report Type</label>
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-3 mt-10">
                <select class="form-control" id="selService" name="servicetype" aria-label="Service type select list" required>
                    <option value="select">Select</option>
                    <option value="visitor">Visitors</option>
                    <option value="free">Free Services</option>
                    <option value="service">Service Quotes</option>
                    <option value="sales">Sales</option>
                    <option value="clients">Clients</option>
                    <option value="contract">Contracts</option>
                    <option value="servicefreq">Service Frequency</option>
                    <option value="avgservicettc">Average TTC</option>
                    <!-- <option value="avgservicefreq">Service Frequency</option> -->
                </select>		
            </div>

        </div>
    </div>
    
    <!-- Chart section -->
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" id="divOther" style="margin-top: 100px;">
        <h6>Reporting Section</h6>
        <!-- User login charting and reporting -->
        <div class="row" style="margin:10px 5px 10px 5px">
            <div class="col-xs-5 col-sm-12 col-md-5 col-lg-5">
                <div clas="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <h6>Site Visitors</h6>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="background-color: lightgrey;">
                    <canvas id="myChart" width="425" height="425"></canvas>
                </div>
            </div>
            <div class="col-xs-6 col-sm-12 col-md-6 col-lg-6">
                <div clas="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <h6>Sales by Month </h6>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="background-color: lightgrey;">
                    <canvas id="salesChart" width="400" height="325"></canvas>
                </div>
            </div>
        </div>

        <!-- Company request service charting and reporting -->
        <div class="row" style="margin:20px 5px 20px 5px">
            <div class="col-xs-6 col-sm-12 col-md-6 col-lg-6">
                <div clas="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <h6>Yearly Sales</h6>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="background-color: lightgrey;">
                    <canvas id="yearlySalesChart" width="400" height="325"></canvas>
                </div>
            </div>
            <div class="col-xs-5 col-sm-12 col-md-5 col-lg-5">
                <div clas="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <h6>Quarterly Expenses</h6>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <canvas id="expensePie" width="500" height="400"></canvas>
                </div>
            </div>
        </div>

        <!-- Free service charting and reporting -->
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            
        </div>

        <!-- Miscellaneous charting and reporting -->
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            
        </div>


    </div>

    <!-- Table section -->
    <!-- Client Request/Month Table -->
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" id="divOther" style="margin: 100px 10px 100px 10px;">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="height:300px;overflow:auto;">
                <h5>Client Qoute Requests/Month </h5>
                <div class="table-responsive">
                    <table class="table table-bordered bg-ligthblue font-black table-striped table" id="quoteTable">
                        <thead>
                            <tr>
                            <th>Date</th>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Email</th>
                            <!-- <th>Phone</th>
                            <th>Company Name</th>
                            <th>Service</th>
                            <th>Description</th> -->
                            </tr>
                        </thead>
                        <tbody  id="tbQuote">
                            <!-- Table body content will be populated dynamically -->
                        </tbody>
                        <!-- <tbody id="tbQuote">
                            <tr>
                                <td></td>
                                td></td>
                                td></td>
                                td></td>
                                td></td>
                                td></td>
                                td></td>
                                td></td>
                            </tr>
                        </tbody> -->
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Free Service Registratios/Month -->
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" id="divOther" style="margin: 100px 10px 100px 10px;">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="height:300px;overflow:auto;">
                <h5>Free Service Registratios/Month</h5>
                <div class="table-responsive">
                    <table class="table table-bordered bg-ligthblue font-black table-striped table" id="quoteTable">
                        <thead>
                            <tr>
                            <th>Date</th>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Email</th>
                            <th>Phone</th>
                            <th>Company Name</th>
                            </tr>
                        </thead>
                        <tbody  id="tbService">
                            <!-- Table body content will be populated dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" id="billing" style="display: none;">
    <h4>Billing</h4>
    <div class="row">


    </div>
</div>

<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" id="expense" style="color: white;display: none;">
    <h4>Expenses</h4>
    <div class="row" id="expense" >
        <div class="col-xs-12 cols-sm-12 col-md-12 col-lg-12">
            <label>hello</label>
        </div>

    </div>
</div>

<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 mt-10" id="usrmain" style="display: none;">
    <h4>User Maintenance</h4>
    <div class="row">


    </div>
</div>

<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 mt-10" id="sales" style="display: none;">
    <h4>Sales</h4>

    <div class="row">


    </div>
</div>

</body>
<script type="text/javascript">
let data;
const tooltipContent = '';
// Get the ul element
const ul = document.getElementById('adminOptions');

$(window).bind('load',function(){
    getChartData('visits');
    salesChart();
    expenseData();
    yearlyData();
    getFreeSerticeData();
    // getQuoteData();
});

//visitor chart section
function getChartData(chartname){
    try {
        data = fetch('/api/getchartdata?chartname='+chartname+'').then(
            function(res){
                return res.json();
        }).then(function(responseData){
            const grpCountByDate  = groupByDate(responseData);
            createChart(grpCountByDate,'bar');
        });
    } catch (error) {
        console.log('ERROR:   '+error);
    }
}

function groupByDate(data) {
    const countByDate = {};
    let valueJson = [];
    const visitsArr = [];

    data.forEach(item => {
        const date = item.Date;
        if (countByDate[date]) {
            countByDate[date]++;
        } else {
            countByDate[date] = 1;
        }
    });

    for (key in countByDate)
    {
        valueJson = {
            Date: key,
            Visits: countByDate[key]
        }
        visitsArr.push(valueJson);
    }

    return visitsArr;
}

function createChart(data,chartType){
    const ctx = document.getElementById('myChart').getContext('2d');

    const myChart = new Chart(ctx, {
        type: chartType,
        data: {
            labels: data.map(row => row.Date),
            datasets: [{
                label: 'Visits per day',
                data: data.map(row => row.Visits),
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(54, 110, 200, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(54, 110, 200, 0.2)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            animatino: true,
            tooltip:{
                enabled: true
            } ,
            scales: {
                yAxes: [{
                    ticks: {
                        // min : 0,
                        // stepSize : 1,
                        // fontColor : "#ffffff",
                        // fontSize : 14
                        beginAtZero: true
                    },        
                    gridLines:{
                        color: "#ffffff",
                        lineWidth:.5,
                        zeroLineColor :"#ffffff",
                        zeroLineWidth : .5
                    },
                }]
            }
        }
    });
}

//Sales chart section
function salesChart()
{
    let SalesData = [{
        Month: 'January',
        Sales: 1000
    },{
        Month: 'February',
        Sales: 10000
    },{
        Month: 'March',
        Sales: 5000
    },{
        Month: 'April',
        Sales: 8000
    },{
        Month: 'May',
        Sales: 9520
    },{
        Month: 'June',
        Sales: 10700
    },{
        Month: 'July',
        Sales: 11325
    },{
        Month: 'August',
        Sales: 12750
    },{
        Month: 'September',
        Sales: 9870
    },{
        Month: 'October',
        Sales: 6855
    },{
        Month:'Novermber',
        Sales: 15250
    },{
        Month: 'December',
        Sales: 13560
    }];

    createSalesChart(SalesData);
}

function createSalesChart(data)
{
    const ctx = document.getElementById('salesChart').getContext('2d');

    const salesChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: data.map(row => row.Month),
            datasets: [{
                label: 'Sales per Month',
                data: data.map(row => row.Sales),
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(54, 110, 200, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)',
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(54, 110, 200, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(54, 110, 200, 0.2)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(54, 110, 200, 0.2)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            animatino: true,
            tooltip:{
                enabled: true
            } ,
            scales: {
                yAxes: [{
                    ticks: {
                        // min : 0,
                        // stepSize : 1,
                        // fontColor : "#ffffff",
                        // fontSize : 14
                        beginAtZero: true
                    },        
                    gridLines:{
                        color: "#ffffff",
                        lineWidth:.5,
                        zeroLineColor :"#ffffff",
                        zeroLineWidth : .5
                    },
                }]
            }
        }
    });
}

//Expense Pie Chart
function expenseData()
{
    let qrtlyExpData = [{
        Month: 'January',
        Expense: 1000
    },
    {
        Month: 'February',
        Expense: 2500
    },
    {
        Month: 'March',
        Expense: 1500
    }];
    createExpensePieChart(qrtlyExpData);
}

function createExpensePieChart(data)
{
    const ctx = document.getElementById('expensePie').getContext('2d');
    const myChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels:data.map(row => row.Month),
            datasets: [{
                label: 'My First Dataset',
                data: data.map(row => row.Expense),
                backgroundColor: [
                'rgb(255, 99, 132)',
                'rgb(54, 162, 235)',
                'rgb(255, 205, 86)'
                ],
                hoverOffset: 4
            }],
            options:{
                borderAlign: 'center',
                responsive:true,
            },
        }
    });
}

//Free service registration data
function getFreeSerticeData(){
    fetch('/api/freeservicedata')      
    .then(response => response.json())
    .then(data => {
    const tbody = document.getElementById('tbService');
    data.forEach(item => {
    const row = document.createElement('tr');
    row.innerHTML = `
        <td title="${item.Date}">${item.Date}</td>
            <td title="${item.FirstName}">${item.FirstName}</td>
            <td title="${item.LastName}">${item.LastName}</td>
            <td title="${item.Email}">${item.Email}z</td>
            <td title="${item.Phone}">${item.Phone}</td>
            <td title="${item.CompanyName}">${item.CompanyName}</td>
        `;
        row.addEventListener('click', handleFreeRowClick); // Add click event listener to the row
        
        tbody.appendChild(row);
    });
    })
    .catch(error => console.log('Error:', error));
}

function yearlyData()
{
    let yearoyearData = [{
        Year: 2021,
        Sales: 150000
    },
    {
        Year: 2022,
        Sales: 175000
    },
    {
        Year: 2023,
        Sales: 200000
    },
    {
        Year: 2024,
        Sales: 75000
    }]
    createYoYChart(yearoyearData);
}

function createYoYChart(data)
{
    const ctx = document.getElementById('yearlySalesChart').getContext('2d');

    const salesChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: data.map(row => row.Year),
            datasets: [{
                label: 'Visits per day',
                data: data.map(row => row.Sales),
                // backgroundColor: [
                //     'rgba(255, 99, 132, 0.2)',
                //     'rgba(54, 162, 235, 0.2)',
                //     'rgba(54, 110, 200, 0.2)',
                //     'rgba(75, 192, 192, 0.2)',
                //     'rgba(153, 102, 255, 0.2)',
                //     'rgba(255, 159, 64, 0.2)',
                //     'rgba(255, 99, 132, 0.2)',
                //     'rgba(54, 162, 235, 0.2)',
                //     'rgba(54, 110, 200, 0.2)',
                //     'rgba(75, 192, 192, 0.2)',
                //     'rgba(153, 102, 255, 0.2)',
                //     'rgba(255, 159, 64, 0.2)'
                // ],
                // borderColor: [
                //     'rgba(255, 99, 132, 1)',
                //     'rgba(54, 162, 235, 1)',
                //     'rgba(54, 110, 200, 0.2)',
                //     'rgba(75, 192, 192, 1)',
                //     'rgba(153, 102, 255, 1)',
                //     'rgba(255, 159, 64, 1)',
                //     'rgba(255, 99, 132, 1)',
                //     'rgba(54, 162, 235, 1)',
                //     'rgba(54, 110, 200, 0.2)',
                //     'rgba(75, 192, 192, 1)',
                //     'rgba(153, 102, 255, 1)',
                //     'rgba(255, 159, 64, 1)'
                // ],
                borderWidth: 1
            }]
        },
        options: {
            animatino: true,
            tooltip:{
                enabled: true
            } ,
            scales: {
                yAxes: [{
                    ticks: {
                        // min : 0,
                        // stepSize : 1,
                        // fontColor : "#ffffff",
                        // fontSize : 14
                        beginAtZero: true
                    },        
                    gridLines:{
                        color: "#ffffff",
                        lineWidth:.5,
                        zeroLineColor :"#ffffff",
                        zeroLineWidth : .5
                    },
                }]
            }
        }
    });
}

document.addEventListener("DOMContentLoaded", function () {
    fetch('/api/getquotedata')
      .then(response => response.json())
      .then(data => {
        const tbody = document.getElementById('tbQuote');
        data.forEach(item => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td title="${item.Date}">${item.Date}</td>
             <td title="${item.FirstName}">${item.FirstName}</td>
             <td title="${item.LastName}">${item.LastName}</td>
             <td title="${item.Email}">${item.Email}z</td>
             <td class="td-hide" title="${item.Phone}">${item.Phone}</td>
             <td class="td-hide"  title="${item.CompanyName}">${item.CompanyName}</td>
             <td class="td-hide"  title="${item.Service}">${item.Service}</td>
             <td class="td-hide"  title="${item.Description}">${item.Description}</td>

           `;
           row.addEventListener('click', handleRowClick); // Add click event listener to the row
         
           tbody.appendChild(row);
        });
      })
      .catch(error => console.log('Error:', error));
  });

function handleFreeRowClick(){
    // Get the clicked row
    const clickedRow = event.target.parentElement;

    // Extract values from the clicked row
    const cells = clickedRow.querySelectorAll('td');
    const rowData = Array.from(cells).map(cell => cell.textContent);

    $('.tooltip').remove();

    // Create tooltip content
    const tooltipContent = `
        <strong>Date:</strong> ${rowData[0]}<br>
        <strong>First Name:</strong> ${rowData[1]}<br>
        <strong>Last Name:</strong> ${rowData[2]}<br>
        <strong>Email:</strong> ${rowData[3]}<br>
        <strong>Phone:</strong> ${rowData[4]}<br>
        <strong>Company Name:</strong> ${rowData[5]}<br>
    `;

    // Set tooltip content and show tooltip
    $(clickedRow).tooltip({
        title: tooltipContent,
        html: true,
        placement: 'bottom',
        trigger: 'manual',
        template: '<div class="tooltip custom-tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'
    }).tooltip('show');
}

function handleRowClick(){
    // Get the clicked row
    const clickedRow = event.target.parentElement;

    // Extract values from the clicked row
    const cells = clickedRow.querySelectorAll('td');
    const rowData = Array.from(cells).map(cell => cell.textContent);

    $('.tooltip').remove();



    // Create tooltip content
    const tooltipContent = `
        <strong>Date:</strong> ${rowData[0]}<br>
        <strong>First Name:</strong> ${rowData[1]}<br>
        <strong>Last Name:</strong> ${rowData[2]}<br>
        <strong>Email:</strong> ${rowData[3]}<br>
        <strong>Phone:</strong> ${rowData[4]}<br>
        <strong>Company Name:</strong> ${rowData[5]}<br>
        <strong>Service:</strong> ${rowData[6]}<br>
        <strong>Description:</strong> ${rowData[7]}<br>
    `;

    // Set tooltip content and show tooltip
    $(clickedRow).tooltip({
        title: tooltipContent,
        html: true,
        placement: 'bottom',
        trigger: 'manual',
        template: '<div class="tooltip custom-tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'
      }).tooltip('show');
}

(function () {
    if (typeof EventTarget !== "undefined") {
        let func = EventTarget.prototype.addEventListener;
        EventTarget.prototype.addEventListener = function (type, fn, capture) {
            this.func = func;
            if(typeof capture !== "boolean"){
                capture = capture || {};
                capture.passive = false;
            }
            this.func(type, fn, capture);
        };
    };
}());

$('ul.uladmin a').bind('click',function(event){
    
    try{
    event.preventDefault();
    let id = $(this).prop('id').replace("lnk", "");
    if(id != 'navbarDropdown'){
        console.log('id   '+id);
        $("#"+id).css('display','inline-block');
    }
}catch(e){
    alert('error:     '+e.error);
}
});


</script>
</html>